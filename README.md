# 武道智评: 智能姿态分析系统

武道智评是一款专业的武术姿态分析系统，通过先进的计算机视觉技术，帮助用户提升武术技能。系统可以分析图像、视频和实时摄像头输入，评估武术姿势的准确性，并提供改进建议。

## 功能特点

- **用户认证系统**：支持用户注册、登录和游客模式
- **图像分析**：上传武术动作图片，获取姿势评分和改进建议
- **视频分析**：分析武术动作视频，评估整个动作序列
- **实时摄像头分析**：通过摄像头实时分析武术姿势
- **武术知识库**：提供各种武术动作的标准姿势、要点和技巧

## 技术架构

### 后端

- **Flask**: Web框架
- **OpenCV**: 计算机视觉库
- **MediaPipe**: Google的姿态检测库
- **JWT**: 用户认证

### 前端

- **React**: 用户界面库
- **Ant Design**: UI组件库
- **Axios**: HTTP客户端
- **React Webcam**: 摄像头集成

## 项目结构

```
武道智评/
├── app.py                 # Flask应用入口
├── web_model.py           # Web版本的分析模型
├── model.py               # 核心姿态分析引擎
├── coordinate_master.py   # 标准姿势坐标数据
├── camera_control.py      # 摄像头控制模块
├── user_auth.py           # 用户认证模块
├── wudao.py               # 原桌面应用入口
├── requirements.txt       # Python依赖
├── uploads/               # 上传文件存储
│   ├── images/            # 上传的图像
│   └── videos/            # 上传的视频
├── img/                   # 处理后的图像
└── frontend/              # React前端
    ├── public/            # 静态文件
    └── src/               # 源代码
        ├── components/    # 组件
        ├── pages/         # 页面
        └── assets/        # 资源文件
```

## 安装与运行

### 后端

1. 安装Python依赖:

```bash
pip install -r requirements.txt
```

2. 运行Flask应用:

```bash
python app.py
```

### 前端

1. 进入前端目录:

```bash
cd frontend
```

2. 安装Node.js依赖:

```bash
npm install
```

3. 启动开发服务器:

```bash
npm start
```

4. 构建生产版本:

```bash
npm run build
```

## 使用指南

### 图像分析

1. 登录系统或选择游客模式
2. 导航到"图像分析"页面
3. 选择要分析的武术动作类型
4. 上传包含武术姿势的图片
5. 点击"开始分析"按钮
6. 查看分析结果和改进建议

### 视频分析

1. 导航到"视频分析"页面
2. 选择要分析的武术动作类型
3. 上传包含武术动作的视频
4. 点击"开始分析"按钮
5. 查看平均评分、关键帧分析和动作评分时间线

### 摄像头分析

1. 导航到"摄像头分析"页面
2. 选择要分析的武术动作类型
3. 点击"启动摄像头"按钮
4. 摆好姿势，确保全身在摄像头视野内
5. 点击"开始分析"按钮
6. 查看实时分析结果，根据反馈调整姿势

## 支持的武术动作

- 弓步冲拳
- 猛虎出洞
- 五花坐山
- 滚身冲拳
- 猿猴纳肘
- 马步推掌
- 并步崩拳
- 狮子张嘴
- 马步扣床
- 罗汉张掌

## 注意事项

- 使用摄像头分析功能需要浏览器支持摄像头访问
- 为获得最佳分析效果，请确保光线充足
- 穿着与背景颜色对比明显的服装
- 确保全身都在图像或视频中清晰可见
